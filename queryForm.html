<!DOCTYPE html>
<html lang="en">
    
    <head>
        <title>Queries</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="music, albums, songs, instruments, piano, guitar, violins, drums">
        <meta name="description" content="Music Shop">
        <link rel="shortcut icon" type=image/png href="Images/favicon.png">
        <link rel="stylesheet" href="styles_queryForm.css">
        <link rel="stylesheet" href="stylesMain.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@300&family=Mukta+Mahee:wght@200&family=Mukta:wght@300;400&family=Poppins:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=The+Nautigal:wght@700&display=swap" rel="stylesheet">
    </head>
    
    <body>
        <!--Sign up Modal-->
        <div id="signup-modal">
            <div class="modal-subContainer1">
                <div class="title-text" style="margin-top: 15px;">Create an Account.</div>
                <em style="color: grey;">It's Quick and Easy.</em>
                <form method="post" action="queryForm.html" class="signup-form">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required="required" style="font-family: 'Mukta', sans-serif;">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required="required" minlength="8">
                    <small style="font-weight: 200;">Password should contain 8 letters minimum.</small>
                    <br>
                    <input type="checkbox" onclick="passwordVisible()" style="width: initial; height: initial; display: inline;">
                    <small style="display: inline;">Show Password</small>
                    <br>
                    <br>
                    <table>
                        <tr>
                            <td style="width: 65%;">
                                Already have an Account ?<br>
                                <button style="background-color: transparent; color: purple; border: none; font-family: 'Mukta', sans-serif;font-size: 17px;" onclick="openLoginModal()">Log in ></button>
                            </td>
                            <td>
                                <input type="submit" value="Sign Up" style=" width: 120px; height: 60px; background-color: #C02350; color: white;">
                            </td>
                        </tr>
                    </table>
                </form> 
            </div>  
            <div class="modal-subContainer2" style="background-image: url('Images/signup.jpg');">
            <button onclick="closeSuModal()" class="modalCloseButton">X</button>
            </div>
        </div>
        <!--Sign in Modal-->
        <div id="signin-modal">
            <div class="modal-subContainer1" style="background-color: #FEE7BD;">
                <div class="title-text" style="margin-top: 15px;">Welcome Back</div>
                <form method="post" action="queryForm.html" class="signup-form">
                    <label for="email1">Email Address</label>
                    <input type="email" id="email1" name="email_1" required="required" style="font-family: 'Mukta', sans-serif; background-color: #FEF3E0;">
                    <label for="password1">Password</label>
                    <input type="password" id="password1" name="password_1" required="required" minlength="8" style="background-color: #FEF3E0;">
                    <input type="submit" value="Sign in" style="background-color: #F2A726; margin-top:25px; color: white;">
                    <div style="margin-top: 10px;">Sign in with,</div>
                    <button class="signin-buttons fa fa-google"></button>
                    <button class="signin-buttons fa fa-facebook"></button> 
                    <button class="signin-buttons fa fa-twitter"></button>
                </form>
            </div>
            <div class="modal-subContainer2" style="background-image: url('Images/signin.jpg');">
                <button onclick="closeSiModal()" class="modalCloseButton">X</button> 
            </div>
        </div>
        
        <div class="main-container">
            <!-- Header Starts here -->
            <div class="header-container" id="topOfPage">
                <!-- Navigation Bar -->
                <nav>  
                    <span class="logo-text" style="font-size: 40px; float: left; margin: 5px 3vw 0 3vw;">Music Overflow</span>
                    <ul>  
                        <li><a href="index.html" class="anchor_dec">Home</a></li>
                        <li>Store
                            <ul class="subnav">
                                <li><a href="shop.html" class="anchor_dec">Albums</a></li>
                                <li><a href="shop.html" class="anchor_dec">Instruments</a></li>
                            </ul> 
                        </li>
                        <li><a class="anchor_dec">Queries</a></li>
                        <li><a href="Quiz.html" class="anchor_dec">Quiz</a></li>
                        <li><a href="svg.html" class="anchor_dec">Sitemap</a></li>
                        <li><a href="thumbnail.html" class="anchor_dec">Thumbnails</a></li>
                        <li><a href="AboutUs.html" class="anchor_dec">About Us</a></li>
                    </ul>
                    <button class="fa fa-shopping-cart navButtons" style="margin: -3px 5% auto 30px; padding: 10px;" id="openCart"></button>
                    <button class="navButtons" style="border-radius: 30px;font-size: 17px; padding: 5px 15px; font-family: 'Mukta', sans-serif; margin-top: -5px;" onclick="onJoinclick()"><span>Join Us Now</span></button>      
                </nav>
                <div style="width: 42vw; color: white; font-size: 90px; margin-top: 20vh; display: inline-block; box-sizing: border-box; padding-right: 150px;">We Listen </div>
                <div style="width: 42vw; color: white; font-size: 90px; margin-top: 20vh; display: inline-block; box-sizing: border-box; padding-left: 50px;"> to you.</div>
            </div>
            <!-- Article starts here -->
            <div class="article-container">
                <div class="left-container">
                    <div class="flipCard">
                        <div class="cardBehind" style="transform: none;">
                            <div class="alignment">    
                                <h1 style="text-transform: uppercase; color: #660f94; text-align: center; margin-top: 6px;">how can we help ?</h1>
                                <form method="post" id="qForm">
                                    <div class="fieldContainer">
                                        <div class="fa fa-user fa-lg" style="padding: 10px; display: inline-block;"></div>
                                        <input type="text" id="namecheck" autocomplete="off" onclick="checkEmptyName()">
                                        <span></span>
                                        <i id="nameValid" style="float: right; margin: 10px 10px;"></i>
                                        <label id="nameLabel">Full Name</label>
                                    </div> 
                                    <br>
                                    <div class="fieldContainer">
                                        <div class="fa fa-envelope" style="padding: 10px; display: inline-block;"></div>
                                        <input type="text" id="emailcheck" autocomplete="off" onclick="checkEmptyEmail()">
                                        <span ></span>
                                        <i id="emailValid" style="float: right; margin: 10px 10px"></i>
                                        <label id="emailLabel">Email</label>
                                    </div>
                                    <br>
                                    <div style="text-align: center;">
                                        <label for="subjectSelect" style="font-size: 18px;">Subject</label>
                                        <select id="subjectSelect" class="subjectSelector">
                                            <option selected disabled hidden>Choose a Subject</option>
                                            <option>Product</option>
                                            <option>Delivery</option>
                                            <option>Packaging</option>
                                            <option>After Service</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                    <br>
                                    <textarea placeholder="Query Details" class="iFields"></textarea>
                                    <br><br>
                                    <button class="queryViewButton">View Query</button>
                                </form>
                            </div>
                        </div>
                        <div class="cardFront" style="transform: rotateY(180deg);"></div>
                    </div>
                </div>
                <div class="right-container">
                    <div class="flipCard">
                        <div class="cardFront"></div>
                        <div class="cardBehind">
                            <div class="alignment">    
                                <h1 style="text-transform: uppercase; color: #a50f58; text-align: center; margin-top: 6px;">query review</h1>
                                <table>
                                    <tr>
                                        <td>Name</td>
                                        <td id="r_name"></td>
                                    </tr>
                                    <tr>
                                        <td>Email</td>
                                        <td id="r_email"></td>
                                    </tr>
                                    <tr>
                                        <td>Subject</td>
                                        <td id="r_subject"></td>
                                    </tr>
                                    <tr>
                                        <td>Details</td>
                                        <td id="r_details"></td>
                                    </tr>
                                </table>
                                    <button class="reviewButtons" onclick="edit()">Edit</button>
                                    <button class="reviewButtons" onclick="sendMail()">Send</button>
                                <video id="vVideo" loop autoplay muted>
                                    <source src="Images/visualizer11.mp4" type="video/mp4">
                                </video>
                            </div>
                        </div>
                    </div>
                </div>    
            </div>    
            <!-- Footer Starts Here -->
            <div class="footer-container">
                <div class="foot1" style="background: url('Images/footBG.jpg');">
                    <div class="footer1-sub">
                        <div class="logo-text">Music Overflow</div>
                        <div class="title-text" style="color: white; text-align: center; font-weight: 400;">Join us Today and get amazing deals</div>
                        <button class="button-common" onclick="onJoinclick()">Sign Up Now</button>
                    </div>    
                </div>
                <div class="foot2">
                    <div class="footerBar" style="margin-top: 150px;">
                        <a href="https://www.facebook.com/"  class="fa fa-facebook fa-lg socialIcons anchor_dec" style="background-color: #1E8DF8; color: white;" target="_blank"></a>
                        <a href="https://www.instagram.com/" class="fa fa-instagram fa-lg socialIcons anchor_dec" style="background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%); color: white;" target="_blank"></a>
                        <a href="https://twitter.com/?lang=en" class="fa fa-twitter fa-lg socialIcons anchor_dec"  style="background-color: #1E8DF8; color: white;" target="_blank"></a>
                        <a href="https://www.youtube.com/" class="fa fa-youtube-play fa-lg socialIcons anchor_dec" style="background-color: #F02828; color: white;" target="_blank"></a>
                    </div>
                    <div class="footerBar" style="margin-top: 0;">
                        <a href="billboard.html" class="footer-nav" target="_blank">Billboards #10</a>
                        <a href="classicalHits.html" class="footer-nav" target="_blank">Classical Hits</a>
                        <a href="instruments.html" class="footer-nav" target="_blank">Latest Instruments</a>
                        <a href="Accessories.html" class="footer-nav" target="_blank">Music Accessories</a>
                        <a href="pageEditor_kaveen.html" class="footer-nav" target="_blank">Editor Page</a>
                        <a href="svg.html" class="footer-nav" target="_blank">Sitemap</a>
                    </div>
                    <br><br>
                    <div class="footerBar">
                        <small>Contact us :</small>
                        <address>music@overflow.com</address>
                        <br>
                        <a href="#topOfPage" class="fa fa-arrow-up anchorArrow anchor_dec"></a>
                        <br><br>
                        <div class="footer-text">Copyright &copy; 2022 MusicOverflow. All rights reserved.</div>
                    </div>       
                </div>
            </div>   
        </div>

        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <script>
            function openLoginModal() {
                let login = document.getElementById("signup-modal");
                login.style.display = "none";
                let login1 = document.getElementById("signin-modal");
                login1.style.display = "flex";
                login1.classList.add("modalOpacity");
            }

            function passwordVisible() {
                let vis = document.getElementById("password");
                if (vis.type === "password") {
                    vis.type = "text";
                    } else {
                    vis.type = "password";
                }
            }

            function closeSuModal() {
                document.querySelector(".main-container").className += 'closingOpacityBg';
                let close = document.getElementById("signup-modal");
                close.style.display = "none";
            }

            function closeSiModal() {
                document.querySelector(".main-container").className += 'closingOpacityBg';
                let close = document.getElementById("signin-modal");
                close.style.display = "none";
            }

            function onJoinclick() {
                let join = document.getElementById("signup-modal");
                join.style.display = "flex";
                join.classList.add("modalOpacity");
                document.querySelector(".main-container").classList.add('bgOpacityDrop');
            }  
            
            const cart = document.getElementById('openCart');
            cart.addEventListener('click', () => {
                alert("Shopping cart is currently empty. You will now be redirected to our store. Happy Shopping !");
                window.open('shop.html', '_blank')
            })

            const queryForm = document.getElementById("qForm");
            const q_name = document.getElementById("namecheck");
            const q_email = document.getElementById("emailcheck");
            const q_select = document.querySelector(".subjectSelector"); 
            const q_text = document.querySelector(".iFields");

            const translateElement1 = document.getElementById("nameLabel");
            function checkEmptyName() {
                translateElement1.style.transform = "translate(-32px, -30px)";
                translateElement1.style.color = "black";
                translateElement1.style.fontSize = "18px"
                q_name.addEventListener('keyup', () => {
                    if (q_name.value.trim() === "") {
                        translateElement1.style.transform = "none";
                        translateElement1.style.color = "grey";
                        translateElement1.style.fontSize = "16px";
                    } 
                })           
            }

            const translateElement2 = document.getElementById("emailLabel");
            function checkEmptyEmail() {
                translateElement2.style.transform = "translate(-32px, -30px)";
                translateElement2.style.color = "black";
                translateElement2.style.fontSize = "18px"
                q_email.addEventListener('keyup', () => {
                    if (q_email.value.trim() === "") {
                        translateElement2.style.transform = "none";
                        translateElement2.style.color = "grey";
                        translateElement2.style.fontSize = "16px"
                    } 
                }) 
            }

            const nameValid = document.getElementById("nameValid");
            const emailValid = document.getElementById("emailValid");  
            const queryButton = document.querySelector(".queryViewButton")
            
            function nameError() {
                nameValid.className = 'fa';
                nameValid.classList.add('fa-exclamation-circle');
                nameValid.classList.add('incorrect');
            }

            function emailError() {
                emailValid.className = 'fa';
                emailValid.classList.add('fa-exclamation-circle');
                emailValid.classList.add('incorrect');
            }

            function nameSuccess() {
                nameValid.className = 'fa';
                nameValid.classList.add('fa-check');
                nameValid.classList.add('correct');
            }

            function emailSuccess() {
                emailValid.className = 'fa';
                emailValid.classList.add('fa-check');
                emailValid.classList.add('correct');
            }

            const emailRegex = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/ ;
            
            queryButton.addEventListener('click', (e) => {
                e.preventDefault();
                if ((q_name.value.trim() != "") && (q_email.value.trim() != "") && (q_select.value != q_select[0].value) && (q_text.value.trim() != "" )) {
                    nameSuccess();
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        q_select.style.border = "1px solid green";
                        q_text.style.border = "1px solid green";
                        document.getElementById("r_name").innerHTML = q_name.value;
                        document.getElementById("r_email").innerHTML = q_email.value;
                        document.getElementById("r_subject").innerHTML = q_select.value;
                        document.getElementById("r_details").innerHTML = q_text.value;
                        const flipLeft = document.querySelector(".left-container .flipCard");
                        flipLeft.style.transform = "rotateY(180deg)";
                        const flipRight = document.querySelector(".right-container .flipCard");
                        flipRight.style.transform = "rotateY(180deg)";
                    } else {
                         emailError();
                         alert("Invalid Email Address Entered !"); 
                    }
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() === "") && (q_select.value == q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameError();
                    emailError();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid red";
                    alert("Please Fill Out Each Field.");
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() != "") && (q_select.value != q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameSuccess();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid red";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please fill the Query Details.")
                    } else {
                         emailError();
                         alert("Invalid Email Address Entered ! Please Fill the Query Details."); 
                    }
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() === "") && (q_select.value != q_select[0].value) && (q_text.value.trim() != "" )) {
                    nameSuccess();
                    emailError();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid green";
                    alert("Please Enter Your Email.");
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() != "") && (q_select.value != q_select[0].value) && (q_text.value.trim() != "" )) {
                    nameError();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid green";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please Enter Your Name.");
                    } else {
                        emailError();
                        alert("Invalid Email Address Entered ! Please Enter Your Name.");  
                    }
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() != "") && (q_select.value == q_select[0].value) && (q_text.value.trim() != "" )) {   
                    nameSuccess();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid green";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please Select A Subject For Your Query.")
                    } else {
                        emailError();
                        alert("Invalid Email Address Entered ! Please Select A Subject For Your Query.");   
                    }
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() === "") && (q_select.value == q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameSuccess();
                    emailError();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid red";
                    alert("Please Fill Email, Subject and Query Details Fields.");
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() != "") && (q_select.value == q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameError();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid red";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please Fill Name, Subject and Query Details Fields.");
                    } else {
                        emailError();
                        alert("Invalid Email Address Entered ! Please Fill Name, Subject and Query Details Fields."); 
                    }
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() === "") && (q_select.value != q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameError();
                    emailError();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid red";
                    alert("Please Fill Name, Email and Query Details Fields.");
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() === "") && (q_select.value == q_select[0].value) && (q_text.value.trim() != "" )) {
                    nameError();
                    emailError();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid green";
                    alert("Please Fill Name, Email and Subject Fields.");
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() != "") && (q_select.value == q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameSuccess();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid red";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please Fill Subject and Query Details Fields.");
                    } else {
                        emailError();
                        alert("Invalid Email Address Entered ! Please Fill Subject and Query Details Fields.");
                    }
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() === "") && (q_select.value != q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameSuccess();
                    emailError();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid red";
                    alert("Please Fill Email and Query Details Fields.");
                } else if ((q_name.value.trim() != "") && (q_email.value.trim() === "") && (q_select.value == q_select[0].value) && (q_text.value.trim() != "" )) {
                    nameSuccess();
                    emailError();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid green";
                    alert("Please Fill Email and Subject Fields.");
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() != "") && (q_select.value != q_select[0].value) && (q_text.value.trim() === "" )) {
                    nameError();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid red";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please Fill Name and Query Details Fields.");
                    } else {
                        emailError();
                        alert("Invalid Email Address Entered ! Please Fill Name and Query Details Fields.");
                    } 
                } else if ((q_name.value.trim() === "") && (q_email.value.trim() === "") && (q_select.value != q_select[0].value) && (q_text.value.trim() != "" )) {
                    nameError();
                    emailError();
                    q_select.style.border = "1px solid green";
                    q_text.style.border = "1px solid green";
                    alert("Please Fill Name and Email Fields.");
                } else {
                // if ((q_name.value.trim() === "") && (q_email.value.trim() != "") && (q_select.value == q_select[0].value) && (q_text.value.trim() != "" )) 
                    nameError();
                    q_select.style.border = "1px solid red";
                    q_text.style.border = "1px solid green";
                    if (emailRegex.test(q_email.value)) {
                        emailSuccess();
                        alert("Please Fill Name and Subject Fields.");
                    } else {
                        emailError();
                        alert("Invalid Email Address Entered ! Please Fill Name and Subject Fields.");
                    }
                } 
            })

            function edit() {
                const flipLeft = document.querySelector(".left-container .flipCard");
                const flipRight = document.querySelector(".right-container .flipCard");
                flipLeft.style.transform = "rotateY(0deg)";
                flipRight.style.transform = "rotateY(360deg)";
            }

            function sendMail() {
                Email.send({
                    Host : "smtp.mailtrap.io",
                    Username : "a0ec619783cc1d",
                    Password : "767d12d054885f",
                    To : 'music@overflow.com',
                    From : q_email.value,
                    Subject : q_select.value,
                    Body : '<div style = "font-family:Calibri,Helvetica; font-size:20px;">' + "Name : " + q_name.value + "<br>" + "Email : " + q_email.value + "<br>" + "Subject : " + q_select.value + "<br>" + "Details : " + q_text.value + "</div>"
                }).then(
                    message => alert("Email Sent Successfully !")
                    );
                const flipLeft = document.querySelector(".left-container .flipCard");
                const flipRight = document.querySelector(".right-container .flipCard");
                nameValid.removeAttribute('class');
                emailValid.removeAttribute('class');
                queryForm.reset();
                flipLeft.style.transform = "rotateY(0deg)";
                flipRight.style.transform = "rotateY(360deg)";
            }
        </script> 

    </body>

</html>